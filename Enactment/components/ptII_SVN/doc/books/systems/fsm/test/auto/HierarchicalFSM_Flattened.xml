<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="HierarchicalFSM_Flattened" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[581, 524]">
    </property>
    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
    </property>
    <property name="heatOnThreshold" class="ptolemy.data.expr.Parameter" value="18.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 15.0]">
        </property>
    </property>
    <property name="heatOffThreshold" class="ptolemy.data.expr.Parameter" value="22.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 35.0]">
        </property>
    </property>
    <property name="heatingRate" class="ptolemy.data.expr.Parameter" value="0.1">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 15.0]">
        </property>
    </property>
    <property name="noiseStandardDeviation" class="ptolemy.data.expr.Parameter" value="0.2">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 55.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={162, 367, 815, 634}, maximized=false}">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{290.5, 262.0}">
    </property>
    <property name="coolingRate" class="ptolemy.data.expr.Parameter" value="-0.05">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 35.0]">
        </property>
    </property>
    <property name="initialTemp" class="ptolemy.data.expr.Parameter" value="15.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 55.0]">
        </property>
    </property>
    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
        <property name="iterations" class="ptolemy.data.expr.Parameter" value="200">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 35.0]">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="A flat FSM version of the hierarchical FSM combining normal&#10;and faulty thermostats.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 250.0]">
        </property>
    </property>
    <entity name="Temperature Model" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 115.0}">
        </property>
        <property name="LocalPreferences" class="ptolemy.actor.gui.PtolemyPreferences">
            <property name="_showParameters" class="ptolemy.data.expr.StringParameter" value="Overridden parameters only">
                <display name="Show parameters"/>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{470.0, 290.0}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={237, 412, 818, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[584, 140]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{292.0, 70.0}">
        </property>
        <port name="temperature" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, 45.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="heat" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 30.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Gaussian" class="ptolemy.actor.lib.Gaussian">
            <property name="standardDeviation" class="ptolemy.actor.parameters.PortParameter" value="noiseStandardDeviation">
            </property>
            <doc>Create a sequence of gaussian random variables</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 95.0]">
            </property>
        </entity>
        <entity name="Accumulator" class="ptolemy.actor.lib.Accumulator">
            <property name="init" class="ptolemy.data.expr.Parameter" value="initialTemp">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 45.0]">
            </property>
        </entity>
        <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
            <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{initialTemp}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[280.0, 45.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="temperature" relation="relation3"/>
        <link port="heat" relation="relation"/>
        <link port="Gaussian.output" relation="relation2"/>
        <link port="Accumulator.input" relation="relation"/>
        <link port="Accumulator.input" relation="relation2"/>
        <link port="Accumulator.output" relation="relation4"/>
        <link port="SampleDelay.input" relation="relation4"/>
        <link port="SampleDelay.output" relation="relation3"/>
    </entity>
    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 165.0]">
        </property>
        <port name="temperature" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="heat" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="fault" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
            <property name="errorCause" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
            </property>
            <property name="count" class="ptolemy.data.expr.Parameter" value="10">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 80.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={233, 153, 1214, 744}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[980, 633]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.363026765012">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{533.4940411868511, 248.6261292886414}">
            </property>
            <property name="LocalPreferences" class="ptolemy.actor.gui.PtolemyPreferences">
                <property name="backgroundColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
                    <display name="Background Color"/>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[675.0, 550.0]">
                </property>
            </property>
            <port name="temperature" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 130.0]">
                </property>
            </port>
            <port name="heat" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[810.0, 160.0]">
                </property>
            </port>
            <port name="fault" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 170.0]">
                </property>
            </port>
            <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[321.9776306152344, 96.8137776851654]">
                </property>
            </entity>
            <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 360.0]">
                </property>
            </entity>
            <entity name="heating2" class="ptolemy.domains.modal.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 95.0]">
                </property>
            </entity>
            <entity name="cooling2" class="ptolemy.domains.modal.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 355.0]">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="&#10;  ! fault &amp;&amp;&#10;  temperature &#10;  &gt;= heatOffThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = coolingRate">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.19576180148098024">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.562181592258053">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="&#10;  ! fault &amp;&amp;&#10;  temperature &lt;= heatOnThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = heatingRate">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.2068182609076737">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.578856693997348">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = heatingRate">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.270126629514137">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.044190606909536">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = coolingRate">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.304477848756624">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.030127293506284583">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="count &lt; 10">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="&#10;  heat = coolingRate">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="count = count + 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.13644070074356948">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5386353467914626">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="&#10;  count &lt; 10 &amp;&amp;&#10;  temperature&#10;  &lt;= heatOnThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = heatingRate">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="count = count + 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.283078171007189">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.5389060788948428">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="count &lt; 10">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = heatingRate">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="count = count + 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.270126629514137">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.044190606909536">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    <display name="default"/>
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="&#10;  count &lt; 10 &amp;&amp;&#10;  temperature &gt; heatOnThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = coolingRate">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="count = count + 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.3568927239000077">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.39828870096632346">
                </property>
            </relation>
            <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="fault">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = 0">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="count = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.23686231671165506">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.05188813355105286">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                    <display name="default"/>
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="fault">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = 0">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="count = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.36793403426452376">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7447035634157051">
                </property>
            </relation>
            <relation name="relation14" class="ptolemy.domains.modal.kernel.Transition">
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.007154271590523415">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.135339923633347">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
            </relation>
            <relation name="relation15" class="ptolemy.domains.modal.kernel.Transition">
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="heat = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.507469985470075">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.40114318572566">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
            </relation>
            <link port="heating.incomingPort" relation="relation5"/>
            <link port="heating.incomingPort" relation="relation6"/>
            <link port="heating.incomingPort" relation="relation14"/>
            <link port="heating.incomingPort" relation="relation15"/>
            <link port="heating.outgoingPort" relation="relation4"/>
            <link port="heating.outgoingPort" relation="relation6"/>
            <link port="heating.outgoingPort" relation="relation12"/>
            <link port="cooling.incomingPort" relation="relation4"/>
            <link port="cooling.incomingPort" relation="relation7"/>
            <link port="cooling.outgoingPort" relation="relation5"/>
            <link port="cooling.outgoingPort" relation="relation7"/>
            <link port="cooling.outgoingPort" relation="relation13"/>
            <link port="heating2.incomingPort" relation="relation9"/>
            <link port="heating2.incomingPort" relation="relation10"/>
            <link port="heating2.incomingPort" relation="relation12"/>
            <link port="heating2.incomingPort" relation="relation13"/>
            <link port="heating2.outgoingPort" relation="relation8"/>
            <link port="heating2.outgoingPort" relation="relation10"/>
            <link port="heating2.outgoingPort" relation="relation14"/>
            <link port="cooling2.incomingPort" relation="relation8"/>
            <link port="cooling2.incomingPort" relation="relation11"/>
            <link port="cooling2.outgoingPort" relation="relation9"/>
            <link port="cooling2.outgoingPort" relation="relation11"/>
            <link port="cooling2.outgoingPort" relation="relation15"/>
        </entity>
        <relation name="temperatureRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="heatRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="faultRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <link port="temperature" relation="temperatureRelation"/>
        <link port="heat" relation="heatRelation"/>
        <link port="fault" relation="faultRelation"/>
        <link port="_Controller.temperature" relation="temperatureRelation"/>
        <link port="_Controller.heat" relation="heatRelation"/>
        <link port="_Controller.fault" relation="faultRelation"/>
    </entity>
    <entity name="Bernoulli" class="ptolemy.actor.lib.Bernoulli">
        <property name="seed" class="ptolemy.actor.parameters.SharedParameter" value="1L">
        </property>
        <property name="resetOnEachRun" class="ptolemy.actor.parameters.SharedParameter" value="true">
        </property>
        <property name="trueProbability" class="ptolemy.data.expr.Parameter" value="0.01">
        </property>
        <doc>Create a sequence of bernoulli random variables</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 175.0]">
        </property>
    </entity>
    <entity name="Test" class="ptolemy.actor.lib.Test">
        <property name="correctValues" class="ptolemy.data.expr.Parameter" value="{15.0, 15.1984492585491, 15.2747417381631, 15.287117514875, 15.4573184909099, 15.3360037126494, 15.3380611278165, 15.2169309137346, 15.1713702497079, 15.4030774677239, 15.3412020552642, 15.4335380780292, 15.2500879304674, 15.5466219010081, 15.5740820174858, 15.9536028432486, 16.0873630976895, 16.1254747804601, 16.1066341050128, 15.8922858804994, 15.7649984241722, 15.7348428563892, 15.7303687755127, 15.6966488664968, 16.0306422019069, 16.2100340489633, 16.6124557123803, 16.5232645059328, 16.7383926685991, 17.0669859012602, 17.0601173847539, 17.1121404592812, 17.0222899157159, 16.722414439844, 17.0237005542555, 16.9836630989585, 16.9230738461395, 17.1069476084354, 17.084952771687, 17.2718882501411, 17.2562892716914, 17.2883765473107, 17.5359460215825, 17.2083388453818, 17.1175242112016, 17.2300278654395, 17.4634464739861, 17.3984576850364, 17.6767664613824, 17.6364291048726, 17.4792932367485, 17.4641317883428, 17.4244471076425, 17.5634610775991, 17.8500896760495, 17.7894596690318, 17.6474881058038, 17.6652584827066, 17.6874517491813, 17.7095582252061, 17.8453451970509, 17.9869324314679, 18.1345074734387, 17.8915699811464, 18.0775641289656, 18.2527566215215, 18.3339740663616, 18.12748970923, 18.4786736068082, 18.4941407178314, 18.827237471559, 19.1976442534391, 19.6215816163552, 20.0368862076736, 20.1946573655663, 20.5247880488962, 20.4279698912505, 20.2705389572106, 20.2064049520042, 20.1961728774587, 20.1529587324663, 20.5046823163811, 20.3973364456992, 20.4939859362015, 20.4435129883889, 20.4326650971926, 20.660470733804, 21.0919502786119, 21.1382453880951, 21.2913199787836, 21.0266526661976, 21.332523585056, 21.6733050387558, 21.7682241584704, 22.2284835951499, 22.47150715707, 22.5059942334949, 22.6657749513166, 22.5822936020017, 22.6955066203685, 22.6421324673073, 22.5530282403345, 22.2395911133389, 22.2759440535574, 22.4192048185678, 22.3924492472341, 22.5698689320575, 22.3146418286328, 22.421431600261, 22.491930770635, 22.3658295760064, 22.4145041822911, 22.510381969406, 22.3556950816782, 22.1637466860915, 22.3653010891054, 22.5292333046896, 22.2379748928734, 22.019934463772, 22.0354581871417, 22.0634791745537, 21.8433560430404, 21.7035102962264, 21.2569944752078, 20.837990903125, 20.9899749270188, 21.0080016352467, 21.0401989048969, 21.0726116248363, 21.2509080695173, 21.4396746880635, 21.6408972416664, 21.8638522882, 21.7941992144359, 21.519730594411, 21.4152412213557, 21.1211831752411, 21.14424476752, 20.890646536749, 20.9189102293941, 21.1348649252188, 20.9144351635735, 20.6206861019768, 20.4858748075308, 20.3498683077303, 20.5606189984648, 20.295262684624, 20.3221658630891, 20.1220673194201, 20.0048970855719, 20.308798848528, 20.709894550752, 20.6189839333836, 20.5645381302868, 20.3498669772703, 20.2410723833165, 19.9775046002424, 19.964388911806, 20.0112978219386, 19.8886541150966, 19.847537962719, 19.8174011115015, 19.6401488248053, 19.7453667465738, 19.5624976342063, 19.9538002125858, 19.9442123834866, 19.9767867772158, 20.49089502202, 20.3109553776596, 19.6824193699775, 19.7427868374866, 19.7808868962072, 19.9517059563683, 19.8317680995351, 19.5378963981507, 19.2208443281243, 18.8119046849607, 18.6636865002563, 18.8086382338647, 18.6155930574355, 18.3065773400568, 18.0731343377307, 17.81312641568, 17.7163194643844, 17.4544040409728, 17.4169785957011, 17.6364406502884, 17.6752592011248, 17.8413833194737, 18.1277877324623, 17.9115300829525, 18.1831319911076, 18.5700283150759, 18.3719129646373, 18.4809454700061, 18.522400687424, 18.4287212710052, 18.5934123669297, 18.860622801936}">
        </property>
        <property name="tolerance" class="ptolemy.data.expr.Parameter" value="1.5E-8">
        </property>
        <property name="trainingMode" class="ptolemy.actor.parameters.SharedParameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{441.0, 115.0}">
        </property>
    </entity>
    <entity name="Test2" class="ptolemy.actor.lib.Test">
        <property name="correctValues" class="ptolemy.data.expr.Parameter" value="{0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, -0.05, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1}">
        </property>
        <property name="trainingMode" class="ptolemy.actor.parameters.SharedParameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, 215.0]">
        </property>
    </entity>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[185.0, 115.0]">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[300.0, 215.0]">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="Temperature Model.temperature" relation="relation2"/>
    <link port="Temperature Model.heat" relation="relation"/>
    <link port="ModalModel.temperature" relation="relation2"/>
    <link port="ModalModel.heat" relation="relation"/>
    <link port="ModalModel.fault" relation="relation3"/>
    <link port="Bernoulli.output" relation="relation3"/>
    <link port="Test.input" relation="relation2"/>
    <link port="Test2.input" relation="relation"/>
</entity>
