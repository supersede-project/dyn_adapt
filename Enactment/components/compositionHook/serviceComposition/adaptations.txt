// S1
curl -k -i -H "Content-Type: application/json" "http://localhost:4567/relay/https://nike.erd.siemens.at/supersede/s1/" 

// S2
curl -k -i -H "Content-Type: application/json" "http://localhost:4567/relay/https://nike.erd.siemens.at/supersede/s2/" 

// S3
curl -k -i -H "Content-Type: application/json" "http://localhost:4567/relay/https://nike.erd.siemens.at/supersede/s3/"


// ADAPTATIONS

curl -k -i -H "Content-Type: application/json" "http://localhost:4567/adapt/https://nike.erd.siemens.at/supersede/s1/" -XPOST -d"{steps: [{ type: 'REST-GET', url: 'https://nike.erd.siemens.at/supersede/s0/', callback: \"function cb(jsonRequest, jsonReponse){ var reqRes = null; if(Math.random() ^> 0.1){ reqRes = JSON.stringify(jsonResponse); } else { reqRes = null; }; return [ 'CONTINUE', reqRes]; }  \"},{ type: 'REST-GET', url: 'http://localhost:4567/relay/https://nike.erd.siemens.at/supersede/s2/', callback: \"function cb(jsonRequest, jsonReponse){ var reqRes = null; if(Math.random() ^> 0.1){ reqRes = JSON.stringify(jsonResponse); } else { reqRes = null; }; return [ 'ERROR_NULL', reqRes]; } \"}]}

curl -k -i -H "Content-Type: application/json" "http://localhost:4567/adapt/https://nike.erd.siemens.at/supersede/s2/" -XPOST -d"{steps: [{ type: 'REST-GET', url: 'https://nike.erd.siemens.at/supersede/s0/', callback: \"function cb(jsonRequest, jsonReponse){ var reqRes = null; if(Math.random() ^> 0.2){ reqRes = JSON.stringify(jsonResponse); } else { reqRes = null; }; return [ 'STOP_NOT_NULL', reqRes]; } \"},{ type: 'REST-GET', url: 'http://localhost:4567/relay/https://nike.erd.siemens.at/supersede/s3/', callback: \"function cb(jsonRequest, jsonReponse){ var reqRes = null; if(Math.random() ^> 0.1){ reqRes = JSON.stringify(jsonResponse); } else { reqRes = null; }; return [ 'ERROR_NULL', reqRes]; } \"}]}

curl -k -i -H "Content-Type: application/json" "http://localhost:4567/adapt/https://nike.erd.siemens.at/supersede/s3/" -XPOST -d"{steps: [{ type: 'REST-GET', url: 'https://nike.erd.siemens.at/supersede/s0/', callback: \"function cb(jsonRequest, jsonReponse){ var reqRes = null; if(Math.random() ^> 0.3){ reqRes = JSON.stringify(jsonResponse); } else { reqRes = null; }; return [ 'ERROR_NULL', reqRes]; } \"}]}

// CHANGE FORMAT ADDAPTATION

curl -k -i -H "Content-Type: application/json" "http://localhost:4567/adapt/https://nike.erd.siemens.at/supersede/format/" -XPOST -d"{steps: [{ type: 'REST-GET', url: 'https://nike.erd.siemens.at/supersede/s0/', callback: \"function cb(jsonRequest, jsonReponse){ var reqRes = null; for(var i=0; i ^< jsonReponse.length;i++) { jsonResponse[i]['WIND_DIRECTION'] = jsonResponse[i]['WINDDIR']; delete jsonResponse[i]['WINDDIR']; }; reqRes = JSON.stringify(jsonResponse); return [ 'CONTINUE', reqRes]; }  \"}]}